{% extends "mtg/base.html" %}
{% block content %}
{% load static %}

<head>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

  <!-- Optional theme -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

  <!-- Latest compiled and minified JavaScript -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

  <link rel="stylesheet" href="{% static 'css/styles.css' %}">
  <script type="text/javascript" src="{% static 'js/previewCode.js' %}"></script>

</head>

<body>
  <div id="alertLoc"></div>
  <form>
    <div class = "form-group">
      <label for="name">Card Name:</label>
      <input type ="text" class = "form-control" id="cardname">    
      <button type="button" class="btn btn-primary" id="addBtn">Add Card</button>
      <br></br>
      <label for="mainDeckEntry">Main Deck</label>
      <textarea class="form-control" id = "cardEntry" rows="6">
{% for card in cards %}{{ card.count }}x {{ card.card_name }} {{ card.categories }}
{% endfor %}</textarea>
      <button type="button" class="btn btn-primary" id="updateDeck">Update Preview</button>
      <button type="button" class="btn btn-primary" id="saveDeck">Save Deck</button>
        <!-- Button trigger modal -->
      <button type="button" class="btn btn-danger" data-toggle="modal" data-target="#exampleModal">
      Delete Deck
      </button>
    </div>
  </form>
  <ul class="nav nav-tabs">
      <li class="active"><a data-toggle="tab" href="#menu1">Card Type</a></li>
      <li><a data-toggle="tab" href="#menu2">Converted Mana Cost</a></li>
      <li><a data-toggle="tab" href="#menu0">Custom Categories</a></li>
    </ul>
    
    <div class="tab-content">

      <div id="menu1" class="tab-pane fade in active">
        <div id="cardview-type"></div>
      </div>
      <div id="menu2" class="tab-pane fade">
        <div id="cardview-cmc"></div>
      </div>
      <div id="menu0" class="tab-pane fade">
        <div id="cardview-custom"></div>
      </div>
    </div>


  
  <!-- Modal -->
  <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">:(</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
          <div class="modal-body">
              Are you sure you want to delete this deck? This action cannot be undone.
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            <a type="button" class="btn btn-danger" href="{% url 'mtg:delete' deck.id %}" value="Delete">Delete</a>
          </div>
      </div>
    </div>
  </div>
  <button type="button" class="btn-primary" id="test">Test</button>

  <br>
  <!--<div class="fixed-bottom jumbotron">Card images from <a href="https://scryfall.com">Scryfall</a></div>-->
  <footer class="page-footer blue">
    <div class="container-fluid text-center text-md-left jumbotron">
      Card images from <a href="https://scryfall.com/" target="_blank">Scryfall</a>
    </div>
  </footer>
  
</body>

{% endblock %}
